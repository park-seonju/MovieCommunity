{"remainingRequest":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\src\\components\\Card.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\src\\components\\Card.vue","mtime":1621564744786},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQovLyBpbXBvcnQgTW9kYWwgZnJvbSAnLi9Nb2RhbC52dWUnDQpjb25zdCBCQVNFX1VSTCA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8iDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6J0NhcmQnLA0KICBjb21wb25lbnRzOiB7IA0KICAgIC8vIE1vZGFsLA0KICB9LA0KICBwcm9wczp7DQogICAgbW92aWU6ew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgIH0NCiAgfSwNCiAgZGF0YSgpew0KICAgIHJldHVybiB7DQogICAgICB1cmw6ICcnLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgb25EZXRhaWwobW92aWUpew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlbGVjdE1vdmllJywgbW92aWUpDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonRGV0YWlsJ30pDQogICAgfSwNCiAgICBvbkNsaWNrKCl7DQogICAgICBjb25zdCBBUElfS0VZID0gJ2Y3Yjg0NWQ2YzAzOTAyOWViNDk5YzhmMWRkN2EwYjI0Jw0KICAgICAgY29uc3QgbW92aWVfaWQgPSB0aGlzLm1vdmllLm1vdmllX2lkDQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIG1ldGhvZDogJ2dldCcsDQogICAgICAgIHVybDpgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS92aWRlb3M/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWtvLUtSYA0KICAgICAgfQ0KICAgICAgYXhpb3MocGFyYW1zKQ0KICAgICAgICAudGhlbigocmVzKT0+ew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkNCiAgICAgICAgY29uc3QgdmlkZW9MaXN0ID0gcmVzLmRhdGEucmVzdWx0cw0KICAgICAgICBmb3IgKGxldCB2aWRlbyBvZiB2aWRlb0xpc3Qpew0KICAgICAgICAgIGlmICh2aWRlby50eXBlPT09IlRyYWlsZXIiKQ0KICAgICAgICAgICAgdGhpcy51cmwgPSBCQVNFX1VSTCArIHZpZGVvLmtleSArJz9hdXRvcGxheT0xJw0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMudXJsPT09JycpDQogICAgICAgICAgdGhpcy51cmwgPSBCQVNFX1VSTCArIHZpZGVvTGlzdFswXS5rZXkgKyc/YXV0b3BsYXk9MScNCiAgICAgIH0pLmNhdGNoKChlKT0+ew0KICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNyZWF0ZVJldmlldygpew0KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2VsZWN0TW92aWUNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidDcmVhdGVSZXZpZXcnfSkNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOnsNCiAgICBtb3ZpZVRpdGxlKCl7DQogICAgICByZXR1cm4gdGhpcy5tb3ZpZS50aXRsZQ0KICAgIH0sDQogICAgbW92aWVJZCgpew0KICAgICAgcmV0dXJuIHRoaXMubW92aWUubW92aWVfaWQNCiAgICB9LA0KICAgIG1vdmllUG9zdGVyKCl7DQogICAgICByZXR1cm4gImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3c1MDAvIiArIHRoaXMubW92aWUucG9zdGVyX3BhdGgNCiAgICB9LA0KICAgIG1vdmllT3ZlcnZpZXcoKXsNCiAgICAgIHJldHVybiB0aGlzLm1vdmllLm92ZXJ2aWV3DQogICAgfSwNCiAgICBtb3ZpZVJlbGVhc2VEYXRlKCl7DQogICAgICByZXR1cm4gdGhpcy5tb3ZpZS5yZWxlYXNlX2RhdGUNCiAgICB9LA0KICAgIG1vdmllVm90ZUF2ZXJhZ2UoKXsNCiAgICAgIHJldHVybiB0aGlzLm1vdmllLnZvdGVfYXZlcmFnZQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["Card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Card.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <b-card\r\n      v-b-modal=\"'myModal' + movieId\"\r\n      :title=\"movieTitle\"\r\n      :img-src=\"moviePoster\"\r\n      img-alt=\"Image\"\r\n      img-top\r\n      tag=\"article\"\r\n      style=\"max-width: 20rem;\"\r\n      class=\"mb-2\"\r\n      @click=\"onClick\"\r\n    >\r\n      <b-card-text>\r\n      </b-card-text>\r\n    </b-card>\r\n\r\n    <b-modal size=\"xl\" :id=\"'myModal'+movieId\" :title=\"movieTitle\">\r\n      <div class=\"d-block\">\r\n        <div class=\"d-flex\">\r\n          <img class=\"m-3\" :src=\"moviePoster\" :alt=\"movieTitle+'poster'\">\r\n          <div class=\"m-3\">\r\n            <div>\r\n              <iframe \r\n                id=\"ytplayer\" type=\"text/html\" \r\n                width=\"560\" height=\"315\"\r\n                :src=\"this.url\"\r\n                frameborder=\"0\">\r\n              </iframe>\r\n            </div>\r\n            <h3>{{movieTitle}}</h3>\r\n            <div>\r\n              <p>줄거리</p>\r\n              <p>{{movieOverview}}</p>\r\n            </div>\r\n            <p>개봉일: {{movieReleaseDate}}</p>\r\n            <p>평점: {{movieVoteAverage}}</p>\r\n            <div>\r\n              <h1>리뷰자리</h1>\r\n            </div>\r\n            <button @click=\"createReview\">리뷰 쓰러 가기</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n// import Modal from './Modal.vue'\r\nconst BASE_URL = \"https://www.youtube.com/embed/\"\r\nexport default {\r\n  name:'Card',\r\n  components: { \r\n    // Modal,\r\n  },\r\n  props:{\r\n    movie:{\r\n      type: Object,\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      url: '',\r\n    }\r\n  },\r\n  methods:{\r\n    onDetail(movie){\r\n      this.$store.dispatch('selectMovie', movie)\r\n      this.$router.push({name:'Detail'})\r\n    },\r\n    onClick(){\r\n      const API_KEY = 'f7b845d6c039029eb499c8f1dd7a0b24'\r\n      const movie_id = this.movie.movie_id\r\n      const params = {\r\n        method: 'get',\r\n        url:`https://api.themoviedb.org/3/movie/${movie_id}/videos?api_key=${API_KEY}&language=ko-KR`\r\n      }\r\n      axios(params)\r\n        .then((res)=>{\r\n        // console.log(res.data)\r\n        const videoList = res.data.results\r\n        for (let video of videoList){\r\n          if (video.type===\"Trailer\")\r\n            this.url = BASE_URL + video.key +'?autoplay=1'\r\n          break\r\n        }\r\n        if (this.url==='')\r\n          this.url = BASE_URL + videoList[0].key +'?autoplay=1'\r\n      }).catch((e)=>{\r\n        console.log(e)\r\n      })\r\n    },\r\n    createReview(){\r\n      this.$store.state.selectMovie\r\n      this.$router.push({name:'CreateReview'})\r\n    }\r\n  },\r\n  computed:{\r\n    movieTitle(){\r\n      return this.movie.title\r\n    },\r\n    movieId(){\r\n      return this.movie.movie_id\r\n    },\r\n    moviePoster(){\r\n      return \"https://image.tmdb.org/t/p/w500/\" + this.movie.poster_path\r\n    },\r\n    movieOverview(){\r\n      return this.movie.overview\r\n    },\r\n    movieReleaseDate(){\r\n      return this.movie.release_date\r\n    },\r\n    movieVoteAverage(){\r\n      return this.movie.vote_average\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}