{"remainingRequest":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\src\\components\\Card.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\src\\components\\Card.vue","mtime":1621564744786},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\my_project\\FinalPJT\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL3VzZXIvRGVza3RvcC9teV9wcm9qZWN0L0ZpbmFsUEpUL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8vIGltcG9ydCBNb2RhbCBmcm9tICcuL01vZGFsLnZ1ZScKCnZhciBCQVNFX1VSTCA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhcmQnLAogIGNvbXBvbmVudHM6IHsvLyBNb2RhbCwKICB9LAogIHByb3BzOiB7CiAgICBtb3ZpZTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25EZXRhaWw6IGZ1bmN0aW9uIG9uRGV0YWlsKG1vdmllKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZWxlY3RNb3ZpZScsIG1vdmllKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdEZXRhaWwnCiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgQVBJX0tFWSA9ICdmN2I4NDVkNmMwMzkwMjllYjQ5OWM4ZjFkZDdhMGIyNCc7CiAgICAgIHZhciBtb3ZpZV9pZCA9IHRoaXMubW92aWUubW92aWVfaWQ7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6ICJodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyIuY29uY2F0KG1vdmllX2lkLCAiL3ZpZGVvcz9hcGlfa2V5PSIpLmNvbmNhdChBUElfS0VZLCAiJmxhbmd1YWdlPWtvLUtSIikKICAgICAgfTsKICAgICAgYXhpb3MocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICB2YXIgdmlkZW9MaXN0ID0gcmVzLmRhdGEucmVzdWx0czsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHZpZGVvTGlzdCksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHZpZGVvID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIGlmICh2aWRlby50eXBlID09PSAiVHJhaWxlciIpIF90aGlzLnVybCA9IEJBU0VfVVJMICsgdmlkZW8ua2V5ICsgJz9hdXRvcGxheT0xJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzLnVybCA9PT0gJycpIF90aGlzLnVybCA9IEJBU0VfVVJMICsgdmlkZW9MaXN0WzBdLmtleSArICc/YXV0b3BsYXk9MSc7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZVJldmlldzogZnVuY3Rpb24gY3JlYXRlUmV2aWV3KCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZWxlY3RNb3ZpZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdDcmVhdGVSZXZpZXcnCiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1vdmllVGl0bGU6IGZ1bmN0aW9uIG1vdmllVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vdmllLnRpdGxlOwogICAgfSwKICAgIG1vdmllSWQ6IGZ1bmN0aW9uIG1vdmllSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vdmllLm1vdmllX2lkOwogICAgfSwKICAgIG1vdmllUG9zdGVyOiBmdW5jdGlvbiBtb3ZpZVBvc3RlcigpIHsKICAgICAgcmV0dXJuICJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwLyIgKyB0aGlzLm1vdmllLnBvc3Rlcl9wYXRoOwogICAgfSwKICAgIG1vdmllT3ZlcnZpZXc6IGZ1bmN0aW9uIG1vdmllT3ZlcnZpZXcoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vdmllLm92ZXJ2aWV3OwogICAgfSwKICAgIG1vdmllUmVsZWFzZURhdGU6IGZ1bmN0aW9uIG1vdmllUmVsZWFzZURhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vdmllLnJlbGVhc2VfZGF0ZTsKICAgIH0sCiAgICBtb3ZpZVZvdGVBdmVyYWdlOiBmdW5jdGlvbiBtb3ZpZVZvdGVBdmVyYWdlKCkgewogICAgICByZXR1cm4gdGhpcy5tb3ZpZS52b3RlX2F2ZXJhZ2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,KAAA,MAAA,OAAA,C,CACA;;AACA,IAAA,QAAA,GAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA,CACA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GALA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,GAAA,EAAA;AADA,KAAA;AAGA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,OALA,qBAKA;AAAA;;AACA,UAAA,OAAA,GAAA,kCAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,QAAA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,+CAAA,QAAA,6BAAA,OAAA;AAFA,OAAA;AAIA,MAAA,KAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AAFA,mDAGA,SAHA;AAAA;;AAAA;AAGA,8DAAA;AAAA,gBAAA,KAAA;AACA,gBAAA,KAAA,CAAA,IAAA,KAAA,SAAA,EACA,KAAA,CAAA,GAAA,GAAA,QAAA,GAAA,KAAA,CAAA,GAAA,GAAA,aAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;;AAQA,YAAA,KAAA,CAAA,GAAA,KAAA,EAAA,EACA,KAAA,CAAA,GAAA,GAAA,QAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA,GAAA,GAAA,aAAA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAbA;AAcA,KA1BA;AA2BA,IAAA,YA3BA,0BA2BA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,WAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AA9BA,GAfA;AA+CA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,KAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,aAAA,KAAA,KAAA,CAAA,QAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,aAAA,qCAAA,KAAA,KAAA,CAAA,WAAA;AACA,KATA;AAUA,IAAA,aAVA,2BAUA;AACA,aAAA,KAAA,KAAA,CAAA,QAAA;AACA,KAZA;AAaA,IAAA,gBAbA,8BAaA;AACA,aAAA,KAAA,KAAA,CAAA,YAAA;AACA,KAfA;AAgBA,IAAA,gBAhBA,8BAgBA;AACA,aAAA,KAAA,KAAA,CAAA,YAAA;AACA;AAlBA;AA/CA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <b-card\r\n      v-b-modal=\"'myModal' + movieId\"\r\n      :title=\"movieTitle\"\r\n      :img-src=\"moviePoster\"\r\n      img-alt=\"Image\"\r\n      img-top\r\n      tag=\"article\"\r\n      style=\"max-width: 20rem;\"\r\n      class=\"mb-2\"\r\n      @click=\"onClick\"\r\n    >\r\n      <b-card-text>\r\n      </b-card-text>\r\n    </b-card>\r\n\r\n    <b-modal size=\"xl\" :id=\"'myModal'+movieId\" :title=\"movieTitle\">\r\n      <div class=\"d-block\">\r\n        <div class=\"d-flex\">\r\n          <img class=\"m-3\" :src=\"moviePoster\" :alt=\"movieTitle+'poster'\">\r\n          <div class=\"m-3\">\r\n            <div>\r\n              <iframe \r\n                id=\"ytplayer\" type=\"text/html\" \r\n                width=\"560\" height=\"315\"\r\n                :src=\"this.url\"\r\n                frameborder=\"0\">\r\n              </iframe>\r\n            </div>\r\n            <h3>{{movieTitle}}</h3>\r\n            <div>\r\n              <p>줄거리</p>\r\n              <p>{{movieOverview}}</p>\r\n            </div>\r\n            <p>개봉일: {{movieReleaseDate}}</p>\r\n            <p>평점: {{movieVoteAverage}}</p>\r\n            <div>\r\n              <h1>리뷰자리</h1>\r\n            </div>\r\n            <button @click=\"createReview\">리뷰 쓰러 가기</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n// import Modal from './Modal.vue'\r\nconst BASE_URL = \"https://www.youtube.com/embed/\"\r\nexport default {\r\n  name:'Card',\r\n  components: { \r\n    // Modal,\r\n  },\r\n  props:{\r\n    movie:{\r\n      type: Object,\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      url: '',\r\n    }\r\n  },\r\n  methods:{\r\n    onDetail(movie){\r\n      this.$store.dispatch('selectMovie', movie)\r\n      this.$router.push({name:'Detail'})\r\n    },\r\n    onClick(){\r\n      const API_KEY = 'f7b845d6c039029eb499c8f1dd7a0b24'\r\n      const movie_id = this.movie.movie_id\r\n      const params = {\r\n        method: 'get',\r\n        url:`https://api.themoviedb.org/3/movie/${movie_id}/videos?api_key=${API_KEY}&language=ko-KR`\r\n      }\r\n      axios(params)\r\n        .then((res)=>{\r\n        // console.log(res.data)\r\n        const videoList = res.data.results\r\n        for (let video of videoList){\r\n          if (video.type===\"Trailer\")\r\n            this.url = BASE_URL + video.key +'?autoplay=1'\r\n          break\r\n        }\r\n        if (this.url==='')\r\n          this.url = BASE_URL + videoList[0].key +'?autoplay=1'\r\n      }).catch((e)=>{\r\n        console.log(e)\r\n      })\r\n    },\r\n    createReview(){\r\n      this.$store.state.selectMovie\r\n      this.$router.push({name:'CreateReview'})\r\n    }\r\n  },\r\n  computed:{\r\n    movieTitle(){\r\n      return this.movie.title\r\n    },\r\n    movieId(){\r\n      return this.movie.movie_id\r\n    },\r\n    moviePoster(){\r\n      return \"https://image.tmdb.org/t/p/w500/\" + this.movie.poster_path\r\n    },\r\n    movieOverview(){\r\n      return this.movie.overview\r\n    },\r\n    movieReleaseDate(){\r\n      return this.movie.release_date\r\n    },\r\n    movieVoteAverage(){\r\n      return this.movie.vote_average\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}